<HTML>
<head> <title> Testing </title>
  <script src = "masters.js"> </script>
  <script src = "tanabe.js">
  let ref = {loci: {"AM" : ["x"], "CSF1PO" : ["12"], "D2S1338" : ["17"], "D3S1358" : ["16"], "D5S818" : ["13"], "D7S820" : ["10, 12"], "D8S1179" : ["14", "15"],
  "D13S317" : ["11"], "D16S539" : ["10"], "D18S51" : ["16"], "D19S433" : ["14"], "D21S11" : ["29"], "FGA" : ["25"], "Penta D" : ["15"],
   "Penta E" : ["12"], "TH01" : ["8"], "TPOX" : ["8", "9"], "vWA" : ["16", "18"]}, modelIdentification : "CVCL_1258"	};

  let query = {loci: {"Amelogenin": ["X","Y"], "CSF1PO": ["10","12"], "D2S1338": ["13","14"], "D3S1358": ["10","12"], "D5S818": ["13","14"],
  "D7S820": ["10","12"], "D8S1179": ["10"], "D13S317": ["11"], "D16S539": ["15"], "D18S51": ["11.2"], "D19S433": ["9.2"], "D21S11": ["10"],
  "FGA": ["11","12"], "Penta D": ["7","8"], "Penta E": ["12"], "TH01": ["12"], "TPOX": ["12"], "vWA": ["12"]}, modelIdentification : "query"
  };
  window.onload = () => {
    for (let dummy = 0; dummy < 3; dummy++) {
      for (let am = 0; am < 2; am++) {
        if (am == 0) {
          document.getElementsByTagName('TD')[dummy * 2].innerHTML = `${document.getElementsByTagName('TD')[dummy * 2].innerHTML} (${Math.floor(tanabe(ref, query, dummy, true) * 100) / 100}%)`;
          if(Math.floor(tanabe(ref, query, dummy, true) * 100) / 100 == 26.67) {
            document.getElementsByTagName('TD')[0].style.color = "#8dc996";
            document.getElementsByTagName('TD')[2].style.color = "#8dc996";
            document.getElementsByTagName('TD')[4].style.color = "#8dc996";
          } else {
            document.getElementsByTagName('TD')[0].style.color = "#c87171";
            document.getElementsByTagName('TD')[2].style.color = "#c87171";
            document.getElementsByTagName('TD')[4].style.color = "#c87171";
          }
        } else {
          document.getElementsByTagName('TD')[(dummy * 2) + 1].innerHTML = `${document.getElementsByTagName('TD')[(dummy * 2) + 1].innerHTML} (${Math.floor(tanabe(ref, query, dummy, false) * 100) / 100}%)`;
          if(Math.floor(tanabe(ref, query, dummy, false) * 100) / 100 == 29.17) {
            document.getElementsByTagName('TD')[1].style.color = "#8dc996";
            document.getElementsByTagName('TD')[3].style.color = "#8dc996";
            document.getElementsByTagName('TD')[5].style.color = "#8dc996";
          } else {
            document.getElementsByTagName('TD')[1].style.color = "#c87171";
            document.getElementsByTagName('TD')[3].style.color = "#c87171";
            document.getElementsByTagName('TD')[5].style.color = "#c87171";
          }
        }
      }
    }
    for (let dummy = 0; dummy < 3; dummy++) {
      for (let am = 0; am < 2; am++) {
        if (am == 0) {
          document.getElementsByTagName('TD')[(dummy * 2) + 12].innerHTML = `${document.getElementsByTagName('TD')[(dummy * 2) + 12].innerHTML} (${Math.floor(mastersQuery(ref, query, dummy, true) * 100) / 100}%)`;
          if(Math.floor(mastersQuery(ref, query, dummy, true) * 100) / 100 == 25.00) {
            document.getElementsByTagName('TD')[12].style.color = "#8dc996";
            document.getElementsByTagName('TD')[14].style.color = "#8dc996";
            document.getElementsByTagName('TD')[16].style.color = "#8dc996";
          } else {
            document.getElementsByTagName('TD')[12].style.color = "#c87171";
            document.getElementsByTagName('TD')[14].style.color = "#c87171";
            document.getElementsByTagName('TD')[16].style.color = "#c87171";
          }
        } else {
          document.getElementsByTagName('TD')[(dummy * 2) + 13].innerHTML = `${document.getElementsByTagName('TD')[(dummy * 2) + 13].innerHTML} (${Math.floor(mastersQuery(ref, query, dummy, false) * 100) / 100}%)`;
          if(Math.floor(mastersQuery(ref, query, dummy, false) * 100) / 100 == 26.92) {
            document.getElementsByTagName('TD')[13].style.color = "#8dc996";
            document.getElementsByTagName('TD')[15].style.color = "#8dc996";
            document.getElementsByTagName('TD')[17].style.color = "#8dc996";
          } else {
            document.getElementsByTagName('TD')[13].style.color = "#c87171";
            document.getElementsByTagName('TD')[15].style.color = "#c87171";
            document.getElementsByTagName('TD')[17].style.color = "#c87171";
          }
        }
      }
    }
    for (let dummy = 0; dummy < 3; dummy++) {
      for (let am = 0; am < 2; am++) {
        if (am == 0) {
          document.getElementsByTagName('TD')[(dummy * 2) + 6].innerHTML = `${document.getElementsByTagName('TD')[(dummy * 2) + 6].innerHTML} (${Math.floor(mastersRef(ref, query, dummy, true) * 100) / 100}%)`;
          if(Math.floor(mastersRef(ref, query, dummy, true) * 100) / 100 == 28.57) {
            document.getElementsByTagName('TD')[6].style.color = "#8dc996";
            document.getElementsByTagName('TD')[8].style.color = "#8dc996";
            document.getElementsByTagName('TD')[10].style.color = "#8dc996";
          } else {
              document.getElementsByTagName('TD')[6].style.color = "#c87171";
              document.getElementsByTagName('TD')[8].style.color = "#c87171";
              document.getElementsByTagName('TD')[10].style.color = "#c87171";
         }
       } else {
          document.getElementsByTagName('TD')[(dummy * 2) + 7].innerHTML = `${document.getElementsByTagName('TD')[(dummy * 2) + 7].innerHTML} (${Math.floor(mastersRef(ref, query, dummy, false) * 100) / 100}%)`
         if(Math.floor(mastersRef(ref, query, dummy, false) * 100) / 100 == 31.82) {
           document.getElementsByTagName('TD')[7].style.color = "#8dc996";
           document.getElementsByTagName('TD')[9].style.color = "#8dc996";
           document.getElementsByTagName('TD')[11].style.color = "#8dc996";
         } else {
             document.getElementsByTagName('TD')[7].style.color = "#c87171";
             document.getElementsByTagName('TD')[9].style.color = "#c87171";
             document.getElementsByTagName('TD')[11].style.color = "#c87171";
        }
       }
      }
    }
  }
  </script>
</head>
<body>
  <P> If the colour is red, it is wrong. If the colour is green, it is right. What your algorithm gave will be in brackets.</P>
<TABLE>
  <TR>
    <TH> No AM </TH>
    <TH> AM </TH>
  </TR>
  <TR>
    <TD> Tanabe Non-Empty Markers: 26.67% </TD>
    <TD> Tanabe Non-Empty Markers: 29.17% </TD>
  </TR>
  <TR>
    <TD> Tanabe Query Markers: 26.67% </TD>
    <TD> Tanabe Query Markers: 29.17% </TD>
  </TR>
  <TR>
    <TD> Tanabe Reference Markers: 26.67% </TD>
    <TD> Tanabe Reference Markers: 29.17% </TD>
  </TR>
  <TR>
      <TD> MastersRef Non-Empty Markers: 28.57% </TD>
      <TD> MastersRef Non-Empty Markers: 31.82% </TD>
  </TR>
  <TR>
    <TD> MastersRef Query Markers: N/A </TD>
    <TD> MastersRef Query Markers: N/A </TD>
  </TR>
  <TR>
    <TD> MastersRef Reference Markers: 28.57% </TD>
    <TD> MastersRef Reference Markers: 31.82% </TD>
  </TR>
  <TR>
    <TD> MastersQuery Non-Empty Markers: 25.00% </TD>
    <TD> MastersQuery Non-Empty Markers: 26.92% </TD>
  </TR>
  <TR>
    <TD> MastersQuery Query Markers: 25.00% </TD>
    <TD> MastersQuery Query Markers: 26.92% </TD>
  </TR>
  <TR>
    <TD> MastersQuery Reference Markers: 25.00% </TD>
    <TD> MastersQuery Reference Markers: 26.92% </TD>
  </TR>
</TABLE>
</body>
</HTML>
